{"ast":null,"code":"// Load modules\nvar Http = require('http');\n\nvar NodeUtil = require('util');\n\nvar Hoek = require('hoek'); // Declare internals\n\n\nvar internals = {};\n\nexports = module.exports = internals.Boom = function\n  /* (new Error) or (code, message) */\n() {\n  var self = this;\n  Hoek.assert(this.constructor === internals.Boom, 'Error must be instantiated using new');\n  Error.call(this);\n  this.isBoom = true;\n  this.response = {\n    code: 0,\n    payload: {},\n    headers: {} // type: 'content-type'\n\n  };\n\n  if (arguments[0] instanceof Error) {\n    // Error\n    var error = arguments[0];\n    this.data = error;\n    this.response.code = error.code || 500;\n\n    if (error.message) {\n      this.message = error.message;\n    }\n  } else {\n    // code, message\n    var code = arguments[0];\n    var message = arguments[1];\n    Hoek.assert(!isNaN(parseFloat(code)) && isFinite(code) && code >= 400, 'First argument must be a number (400+)');\n    this.response.code = code;\n\n    if (message) {\n      this.message = message;\n    }\n  } // Response format\n\n\n  this.reformat();\n  return this;\n};\n\nNodeUtil.inherits(internals.Boom, Error);\n\ninternals.Boom.prototype.reformat = function () {\n  this.response.payload.code = this.response.code;\n  this.response.payload.error = Http.STATUS_CODES[this.response.code] || 'Unknown';\n\n  if (this.message) {\n    this.response.payload.message = Hoek.escapeHtml(this.message); // Prevent XSS from error message\n  }\n}; // Utilities\n\n\ninternals.Boom.badRequest = function (message) {\n  return new internals.Boom(400, message);\n};\n\ninternals.Boom.unauthorized = function (message, scheme, attributes) {\n  // Or function (message, wwwAuthenticate[])\n  var err = new internals.Boom(401, message);\n\n  if (!scheme) {\n    return err;\n  }\n\n  var wwwAuthenticate = '';\n\n  if (typeof scheme === 'string') {\n    // function (message, scheme, attributes)\n    wwwAuthenticate = scheme;\n\n    if (attributes) {\n      var names = Object.keys(attributes);\n\n      for (var i = 0, il = names.length; i < il; ++i) {\n        if (i) {\n          wwwAuthenticate += ',';\n        }\n\n        var value = attributes[names[i]];\n\n        if (value === null || value === undefined) {\n          // Value can be zero\n          value = '';\n        }\n\n        wwwAuthenticate += ' ' + names[i] + '=\"' + Hoek.escapeHeaderAttribute(value.toString()) + '\"';\n      }\n    }\n\n    if (message) {\n      if (attributes) {\n        wwwAuthenticate += ',';\n      }\n\n      wwwAuthenticate += ' error=\"' + Hoek.escapeHeaderAttribute(message) + '\"';\n    } else {\n      err.isMissing = true;\n    }\n  } else {\n    // function (message, wwwAuthenticate[])\n    var wwwArray = scheme;\n\n    for (var i = 0, il = wwwArray.length; i < il; ++i) {\n      if (i) {\n        wwwAuthenticate += ', ';\n      }\n\n      wwwAuthenticate += wwwArray[i];\n    }\n  }\n\n  err.response.headers['WWW-Authenticate'] = wwwAuthenticate;\n  return err;\n};\n\ninternals.Boom.clientTimeout = function (message) {\n  return new internals.Boom(408, message);\n};\n\ninternals.Boom.serverTimeout = function (message) {\n  return new internals.Boom(503, message);\n};\n\ninternals.Boom.forbidden = function (message) {\n  return new internals.Boom(403, message);\n};\n\ninternals.Boom.notFound = function (message) {\n  return new internals.Boom(404, message);\n};\n\ninternals.Boom.internal = function (message, data) {\n  var err = new internals.Boom(500, message);\n\n  if (data && data.stack) {\n    err.trace = data.stack.split('\\n');\n    err.outterTrace = Hoek.displayStack(1);\n  } else {\n    err.trace = Hoek.displayStack(1);\n  }\n\n  err.data = data;\n  err.response.payload.message = 'An internal server error occurred'; // Hide actual error from user\n\n  return err;\n};\n\ninternals.Boom.passThrough = function (code, payload, contentType, headers) {\n  var err = new internals.Boom(500, 'Pass-through'); // 500 code is only used to initialize\n\n  err.data = {\n    code: code,\n    payload: payload,\n    type: contentType\n  };\n  err.response.code = code;\n  err.response.type = contentType;\n  err.response.headers = headers;\n  err.response.payload = payload;\n  return err;\n};","map":{"version":3,"sources":["/home/hayaz/haya/haya/hosters.pk/node_modules/whmcs/node_modules/boom/lib/index.js"],"names":["Http","require","NodeUtil","Hoek","internals","exports","module","Boom","self","assert","constructor","Error","call","isBoom","response","code","payload","headers","arguments","error","data","message","isNaN","parseFloat","isFinite","reformat","inherits","prototype","STATUS_CODES","escapeHtml","badRequest","unauthorized","scheme","attributes","err","wwwAuthenticate","names","Object","keys","i","il","length","value","undefined","escapeHeaderAttribute","toString","isMissing","wwwArray","clientTimeout","serverTimeout","forbidden","notFound","internal","stack","trace","split","outterTrace","displayStack","passThrough","contentType","type"],"mappings":"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","sourcesContent":["// Load modules\n\nvar Http = require('http');\nvar NodeUtil = require('util');\nvar Hoek = require('hoek');\n\n\n// Declare internals\n\nvar internals = {};\n\n\nexports = module.exports = internals.Boom = function (/* (new Error) or (code, message) */) {\n\n    var self = this;\n\n    Hoek.assert(this.constructor === internals.Boom, 'Error must be instantiated using new');\n\n    Error.call(this);\n    this.isBoom = true;\n\n    this.response = {\n        code: 0,\n        payload: {},\n        headers: {}\n        // type: 'content-type'\n    };\n\n    if (arguments[0] instanceof Error) {\n\n        // Error\n\n        var error = arguments[0];\n\n        this.data = error;\n        this.response.code = error.code || 500;\n        if (error.message) {\n            this.message = error.message;\n        }\n    }\n    else {\n\n        // code, message\n\n        var code = arguments[0];\n        var message = arguments[1];\n\n        Hoek.assert(!isNaN(parseFloat(code)) && isFinite(code) && code >= 400, 'First argument must be a number (400+)');\n\n        this.response.code = code;\n        if (message) {\n            this.message = message;\n        }\n    }\n\n    // Response format\n\n    this.reformat();\n\n    return this;\n};\n\nNodeUtil.inherits(internals.Boom, Error);\n\n\ninternals.Boom.prototype.reformat = function () {\n\n    this.response.payload.code = this.response.code;\n    this.response.payload.error = Http.STATUS_CODES[this.response.code] || 'Unknown';\n    if (this.message) {\n        this.response.payload.message = Hoek.escapeHtml(this.message);         // Prevent XSS from error message\n    }\n};\n\n\n// Utilities\n\ninternals.Boom.badRequest = function (message) {\n\n    return new internals.Boom(400, message);\n};\n\n\ninternals.Boom.unauthorized = function (message, scheme, attributes) {          // Or function (message, wwwAuthenticate[])\n\n    var err = new internals.Boom(401, message);\n\n    if (!scheme) {\n        return err;\n    }\n\n    var wwwAuthenticate = '';\n\n    if (typeof scheme === 'string') {\n\n        // function (message, scheme, attributes)\n\n        wwwAuthenticate = scheme;\n        if (attributes) {\n            var names = Object.keys(attributes);\n            for (var i = 0, il = names.length; i < il; ++i) {\n                if (i) {\n                    wwwAuthenticate += ',';\n                }\n\n                var value = attributes[names[i]];\n                if (value === null ||\n                    value === undefined) {              // Value can be zero\n\n                    value = '';\n                }\n                wwwAuthenticate += ' ' + names[i] + '=\"' + Hoek.escapeHeaderAttribute(value.toString()) + '\"';\n            }\n        }\n\n        if (message) {\n            if (attributes) {\n                wwwAuthenticate += ',';\n            }\n            wwwAuthenticate += ' error=\"' + Hoek.escapeHeaderAttribute(message) + '\"';\n        }\n        else {\n            err.isMissing = true;\n        }\n    }\n    else {\n\n        // function (message, wwwAuthenticate[])\n\n        var wwwArray = scheme;\n        for (var i = 0, il = wwwArray.length; i < il; ++i) {\n            if (i) {\n                wwwAuthenticate += ', ';\n            }\n\n            wwwAuthenticate += wwwArray[i];\n        }\n    }\n\n    err.response.headers['WWW-Authenticate'] = wwwAuthenticate;\n\n    return err;\n};\n\n\ninternals.Boom.clientTimeout = function (message) {\n\n    return new internals.Boom(408, message);\n};\n\n\ninternals.Boom.serverTimeout = function (message) {\n\n    return new internals.Boom(503, message);\n};\n\n\ninternals.Boom.forbidden = function (message) {\n\n    return new internals.Boom(403, message);\n};\n\n\ninternals.Boom.notFound = function (message) {\n\n    return new internals.Boom(404, message);\n};\n\n\ninternals.Boom.internal = function (message, data) {\n\n    var err = new internals.Boom(500, message);\n\n    if (data && data.stack) {\n        err.trace = data.stack.split('\\n');\n        err.outterTrace = Hoek.displayStack(1);\n    }\n    else {\n        err.trace = Hoek.displayStack(1);\n    }\n\n    err.data = data;\n    err.response.payload.message = 'An internal server error occurred';                     // Hide actual error from user\n\n    return err;\n};\n\n\ninternals.Boom.passThrough = function (code, payload, contentType, headers) {\n\n    var err = new internals.Boom(500, 'Pass-through');                                      // 500 code is only used to initialize\n\n    err.data = {\n        code: code,\n        payload: payload,\n        type: contentType\n    };\n\n    err.response.code = code;\n    err.response.type = contentType;\n    err.response.headers = headers;\n    err.response.payload = payload;\n\n    return err;\n};\n\n\n"]},"metadata":{},"sourceType":"script"}