{"ast":null,"code":"function UrlTemplate() {}\n\nUrlTemplate.prototype.encodeReserved = function (str) {\n  return str.split(/(%[0-9A-Fa-f]{2})/g).map(function (part) {\n    if (!/%[0-9A-Fa-f]/.test(part)) {\n      part = encodeURI(part);\n    }\n\n    return part;\n  }).join('');\n};\n\nUrlTemplate.prototype.encodeValue = function (operator, value, key) {\n  value = operator === '+' || operator === '#' ? this.encodeReserved(value) : encodeURIComponent(value);\n\n  if (key) {\n    return encodeURIComponent(key) + '=' + value;\n  } else {\n    return value;\n  }\n};\n\nUrlTemplate.prototype.isDefined = function (value) {\n  return value !== undefined && value !== null;\n};\n\nUrlTemplate.prototype.isKeyOperator = function (operator) {\n  return operator === ';' || operator === '&' || operator === '?';\n};\n\nUrlTemplate.prototype.getValues = function (context, operator, key, modifier) {\n  var value = context[key],\n      result = [];\n\n  if (this.isDefined(value) && value !== '') {\n    if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n      value = value.toString();\n\n      if (modifier && modifier !== '*') {\n        value = value.substring(0, parseInt(modifier, 10));\n      }\n\n      result.push(this.encodeValue(operator, value, this.isKeyOperator(operator) ? key : null));\n    } else {\n      if (modifier === '*') {\n        if (Array.isArray(value)) {\n          value.filter(this.isDefined).forEach(function (value) {\n            result.push(this.encodeValue(operator, value, this.isKeyOperator(operator) ? key : null));\n          }, this);\n        } else {\n          Object.keys(value).forEach(function (k) {\n            if (this.isDefined(value[k])) {\n              result.push(this.encodeValue(operator, value[k], k));\n            }\n          }, this);\n        }\n      } else {\n        var tmp = [];\n\n        if (Array.isArray(value)) {\n          value.filter(this.isDefined).forEach(function (value) {\n            tmp.push(this.encodeValue(operator, value));\n          }, this);\n        } else {\n          Object.keys(value).forEach(function (k) {\n            if (this.isDefined(value[k])) {\n              tmp.push(encodeURIComponent(k));\n              tmp.push(this.encodeValue(operator, value[k].toString()));\n            }\n          }, this);\n        }\n\n        if (this.isKeyOperator(operator)) {\n          result.push(encodeURIComponent(key) + '=' + tmp.join(','));\n        } else if (tmp.length !== 0) {\n          result.push(tmp.join(','));\n        }\n      }\n    }\n  } else {\n    if (operator === ';') {\n      result.push(encodeURIComponent(key));\n    } else if (operator === '&' || operator === '?') {\n      result.push(encodeURIComponent(key) + '=');\n    } else if (value === '') {\n      result.push('');\n    }\n  }\n\n  return result;\n};\n\nUrlTemplate.prototype.parse = function (template) {\n  var that = this;\n  var operators = ['+', '#', '.', '/', ';', '?', '&'];\n  return {\n    expand: function (context) {\n      return template.replace(/\\{([^\\{\\}]+)\\}|([^\\{\\}]+)/g, function (_, expression, literal) {\n        if (expression) {\n          var operator = null,\n              values = [];\n\n          if (operators.indexOf(expression.charAt(0)) !== -1) {\n            operator = expression.charAt(0);\n            expression = expression.substr(1);\n          }\n\n          expression.split(/,/g).forEach(function (variable) {\n            var tmp = /([^:\\*]*)(?::(\\d+)|(\\*))?/.exec(variable);\n            values.push.apply(values, that.getValues(context, operator, tmp[1], tmp[2] || tmp[3]));\n          });\n\n          if (operator && operator !== '+') {\n            var separator = ',';\n\n            if (operator === '?') {\n              separator = '&';\n            } else if (operator !== '#') {\n              separator = operator;\n            }\n\n            return (values.length !== 0 ? operator : '') + values.join(separator);\n          } else {\n            return values.join(',');\n          }\n        } else {\n          return that.encodeReserved(literal);\n        }\n      });\n    }\n  };\n};\n\nmodule.exports = UrlTemplate;","map":{"version":3,"sources":["D:/haya/hosters.pk/node_modules/url-template/lib/url-template.js"],"names":["UrlTemplate","prototype","encodeReserved","str","split","map","part","test","encodeURI","join","encodeValue","operator","value","key","encodeURIComponent","isDefined","undefined","isKeyOperator","getValues","context","modifier","result","toString","substring","parseInt","push","Array","isArray","filter","forEach","Object","keys","k","tmp","length","parse","template","that","operators","expand","replace","_","expression","literal","values","indexOf","charAt","substr","variable","exec","apply","separator","module","exports"],"mappings":"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","sourcesContent":["function UrlTemplate() {\n}\n\nUrlTemplate.prototype.encodeReserved = function (str) {\n  return str.split(/(%[0-9A-Fa-f]{2})/g).map(function (part) {\n    if (!/%[0-9A-Fa-f]/.test(part)) {\n      part = encodeURI(part);\n    }\n    return part;\n  }).join('');\n};\n\nUrlTemplate.prototype.encodeValue = function (operator, value, key) {\n  value = (operator === '+' || operator === '#') ? this.encodeReserved(value) : encodeURIComponent(value);\n\n  if (key) {\n    return encodeURIComponent(key) + '=' + value;\n  } else {\n    return value;\n  }\n};\n\nUrlTemplate.prototype.isDefined = function (value) {\n  return value !== undefined && value !== null;\n};\n\nUrlTemplate.prototype.isKeyOperator = function (operator) {\n  return operator === ';' || operator === '&' || operator === '?';\n};\n\nUrlTemplate.prototype.getValues = function (context, operator, key, modifier) {\n  var value = context[key],\n      result = [];\n\n  if (this.isDefined(value) && value !== '') {\n    if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n      value = value.toString();\n\n      if (modifier && modifier !== '*') {\n        value = value.substring(0, parseInt(modifier, 10));\n      }\n\n      result.push(this.encodeValue(operator, value, this.isKeyOperator(operator) ? key : null));\n    } else {\n      if (modifier === '*') {\n        if (Array.isArray(value)) {\n          value.filter(this.isDefined).forEach(function (value) {\n            result.push(this.encodeValue(operator, value, this.isKeyOperator(operator) ? key : null));\n          }, this);\n        } else {\n          Object.keys(value).forEach(function (k) {\n            if (this.isDefined(value[k])) {\n              result.push(this.encodeValue(operator, value[k], k));\n            }\n          }, this);\n        }\n      } else {\n        var tmp = [];\n\n        if (Array.isArray(value)) {\n          value.filter(this.isDefined).forEach(function (value) {\n            tmp.push(this.encodeValue(operator, value));\n          }, this);\n        } else {\n          Object.keys(value).forEach(function (k) {\n            if (this.isDefined(value[k])) {\n              tmp.push(encodeURIComponent(k));\n              tmp.push(this.encodeValue(operator, value[k].toString()));\n            }\n          }, this);\n        }\n\n        if (this.isKeyOperator(operator)) {\n          result.push(encodeURIComponent(key) + '=' + tmp.join(','));\n        } else if (tmp.length !== 0) {\n          result.push(tmp.join(','));\n        }\n      }\n    }\n  } else {\n    if (operator === ';') {\n      result.push(encodeURIComponent(key));\n    } else if (operator === '&' || operator === '?') {\n      result.push(encodeURIComponent(key) + '=');\n    } else if (value === '') {\n      result.push('');\n    }\n  }\n  return result;\n};\n\nUrlTemplate.prototype.parse = function (template) {\n  var that = this;\n  var operators = ['+', '#', '.', '/', ';', '?', '&'];\n\n  return {\n    expand: function (context) {\n      return template.replace(/\\{([^\\{\\}]+)\\}|([^\\{\\}]+)/g, function (_, expression, literal) {\n        if (expression) {\n          var operator = null,\n              values = [];\n\n          if (operators.indexOf(expression.charAt(0)) !== -1) {\n            operator = expression.charAt(0);\n            expression = expression.substr(1);\n          }\n\n          expression.split(/,/g).forEach(function (variable) {\n            var tmp = /([^:\\*]*)(?::(\\d+)|(\\*))?/.exec(variable);\n            values.push.apply(values, that.getValues(context, operator, tmp[1], tmp[2] || tmp[3]));\n          });\n\n          if (operator && operator !== '+') {\n            var separator = ',';\n\n            if (operator === '?') {\n              separator = '&';\n            } else if (operator !== '#') {\n              separator = operator;\n            }\n            return (values.length !== 0 ? operator : '') + values.join(separator);\n          } else {\n            return values.join(',');\n          }\n        } else {\n          return that.encodeReserved(literal);\n        }\n      });\n    }\n  };\n};\n\nmodule.exports = UrlTemplate;\n"]},"metadata":{},"sourceType":"script"}